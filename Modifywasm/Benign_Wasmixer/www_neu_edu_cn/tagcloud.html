<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>tagcloud.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABCAJgAABgAAF/AiQDA2FiZgRtd3J4AAEDeWpvBnprcHdodAAAA2NkeARidHFnAAADAgEABAUBcAAECQUDAQABBxECBm1lbW9yeQIABHRpYngAAwkKAQBBAQsEAQACAwoeARwAAkADQEECEQEARQ0BQQMRAABBAREAAAwACwsL';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABCAJgAABgAX8AAh8CA2FodAhrcnRscm5kcgAAA3J0YQhmd2Z0dGVpagAAAwIBAQQFAXAAAwgFAwEAAQcRAgZtZW1vcnkCAAR2enFxAAIJCQEAQQELAwACAQoOAQwAIAAEQBAABRABCws=';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABBAFgAAACDwEDdW55B2hkbHZtY3AAAAMCAQAEBQFwAAIHBQMBAAEHEQIGbWVtb3J5AgAEemdzZAABCQgBAEEBCwIAAQoJAQcAQQERAAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG+oCAgAAVfwBBAQt/AEEYC38AQSQLfwBBLgt/AEE6C38AQcQAC38AQc4AC38AQdIAC38AQdYAC38AQeAAC38AQeQAC38AQegAC38AQewAC38AQfAAC38AQYIBC38AQYYBC38AQYoBC38AQY4BC38AQZYBC38AQeQBC38AQewBCwe9gYCAABYGbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAZkYXRhMTcDEQZkYXRhMTgDEgZkYXRhMTkDEwZkYXRhMjADFAvUgoCAABUAQQELFiU1Qm9iamVjdCUyME9iamVjdCU1RAAAQRgLCm1vdXNlb3ZlcgAAQSQLCW1vdXNlb3V0AABBLgsKbW91c2Vtb3ZlAABBOgsIdmlzaWJsZQAAQcQACwlhYnNvbHV0ZQAAQc4ACwNweAAAQdIACwNweAAAQdYACwlhYnNvbHV0ZQAAQeAACwNvbgAAQeQACwNvbgAAQegACwNweAAAQewACwNweAAAQfAACxFhbHBoYShvcGFjaXR5JTNEAABBggELAikAAEGGAQsDcHgAAEGKAQsDcHgAAEGOAQsGc3R5bGUAAEGWAQtMJTdCeC1xc2ElM0FleHByZXNzaW9uKGRvY3VtZW50Ll9xc2ElMjAlMjYlMjYlMjBkb2N1bWVudC5fcXNhLnB1c2godGhpcykpJTdEAABB5AELBngtcXNhAABB7AELCi50YWdjbG91ZAA='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
window.tagcloud = function (win, doc) {
    function isObject(obj) {
        return Object.prototype.toString.call(obj) === lS(0, 0);
    }
    function TagCloud(options) {
        var self = this;
        self.config = TagCloud._getConfig(options);
        self.box = self.config.element;
        self.fontsize = self.config.fontsize;
        self.radius = self.config.radius;
        self.depth = 2 * self.radius;
        self.size = 2 * self.radius;
        self.mspeed = TagCloud._getMsSpeed(self.config.mspeed);
        self.ispeed = TagCloud._getIsSpeed(self.config.ispeed);
        self.items = self._getItems();
        self.direction = self.config.direction;
        self.keep = self.config.keep;
        self.active = false;
        self.lasta = 1;
        self.lastb = 1;
        self.mouseX0 = self.ispeed * Math.sin(self.direction * Math.PI / 180);
        self.mouseY0 = -self.ispeed * Math.cos(self.direction * Math.PI / 180);
        self.mouseX = self.mouseX0;
        self.mouseY = self.mouseY0;
        self.index = -1;
        (() => {
            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        TagCloud._on(self.box, lS(0, 1), function () {
                            self.active = true;
                        });
                    }
                }
            });
            const __exports = __callInstance14.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        TagCloud._on(self.box, lS(0, 2), function () {
                            self.active = false;
                        });
                    }
                }
            });
            const __exports = __callInstance13.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        TagCloud._on(self.keep ? win : self.box, lS(0, 3), function (ev) {
                            var oEvent = win.event || ev;
                            var boxPosition = self.box.getBoundingClientRect();
                            self.mouseX = (oEvent.clientX - (boxPosition.left + self.box.offsetWidth / 2)) / 5;
                            self.mouseY = (oEvent.clientY - (boxPosition.top + self.box.offsetHeight / 2)) / 5;
                        });
                    }
                }
            });
            const __exports = __callInstance12.exports;
            return __exports.data();
        })();
        (() => {
            var j = 0, len = self.items.length;
            const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return j < len ? 1 : 0;
                    },
                    update: () => {
                        j++;
                    },
                    body: () => {
                        {
                            self.items[j].element.index = j;
                            self.items[j].element.onmouseover = function () {
                                self.index = this.index;
                            };
                            self.items[j].element.onmouseout = function () {
                                self.index = -1;
                            };
                        }
                    }
                }
            });
            const __exports = __forInstance0.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        TagCloud.boxs.push(self.box);
                    }
                }
            });
            const __exports = __callInstance11.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        self.update(self);
                    }
                }
            });
            const __exports = __callInstance10.exports;
            return __exports.data();
        })();
        self.box.style.visibility = lS(0, 4);
        self.box.style.position = lS(0, 5);
        self.box.style.minHeight = 1.2 * self.size + lS(0, 6);
        self.box.style.minWidth = 2.5 * self.size + lS(0, 7);
        (() => {
            var j = 0, len = self.items.length;
            const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return j < len ? 1 : 0;
                    },
                    update: () => {
                        j++;
                    },
                    body: () => {
                        {
                            self.items[j].element.style.position = lS(0, 8);
                            self.items[j].element.style.zIndex = j + 1;
                        }
                    }
                }
            });
            const __exports = __forInstance1.exports;
            return __exports.data();
        })();
        self.up = setInterval(function () {
            (() => {
                const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            self.update(self);
                        }
                    }
                });
                const __exports = __callInstance9.exports;
                return __exports.data();
            })();
        }, 30);
    }
    TagCloud.boxs = [];
    TagCloud._set = function (element) {
        if (TagCloud.boxs.indexOf(element) == -1) {
            return true;
        }
    };
    if (!Array.prototype.indexOf) {
        Array.prototype.indexOf = function (elt) {
            var len = this.length >>> 0;
            var from = Number(arguments[1]) || 0;
            from = from < 0 ? Math.ceil(from) : Math.floor(from);
            (() => {
                const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            from += len;
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance0.exports;
                return __exports.data(from < 0 ? 1 : 0);
            })();
            for (; from < len; from++) {
                if (from in this && this[from] === elt)
                    return from;
            }
            return -1;
        };
    }
    TagCloud._getConfig = function (config) {
        var defaultConfig = {
            fontsize: 16,
            radius: 60,
            mspeed: 'normal',
            ispeed: 'normal',
            direction: 135,
            keep: true
        };
        (() => {
            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            for (var i in config) {
                                (() => {
                                    const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    defaultConfig[i] = config[i];
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance2.exports;
                                    return __exports.data(config.hasOwnProperty(i) ? 1 : 0);
                                })();
                            }
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance1.exports;
            return __exports.data(isObject(config) ? 1 : 0);
        })();
        return defaultConfig;
    };
    TagCloud._getMsSpeed = function (mspeed) {
        var speedMap = {
            slow: 1.5,
            normal: 3,
            fast: 5
        };
        return speedMap[mspeed] || 3;
    };
    TagCloud._getIsSpeed = function (ispeed) {
        var speedMap = {
            slow: 10,
            normal: 25,
            fast: 50
        };
        return speedMap[ispeed] || 25;
    };
    TagCloud._getSc = function (a, b) {
        var l = Math.PI / 180;
        return [
            Math.sin(a * l),
            Math.cos(a * l),
            Math.sin(b * l),
            Math.cos(b * l)
        ];
    };
    TagCloud._on = function (ele, eve, handler, cap) {
        (() => {
            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            ele.addEventListener(eve, handler, cap);
                                        }
                                    }
                                });
                                const __exports = __callInstance8.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        (() => {
                            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            ele.attachEvent(lS(0, 9) + eve, handler);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance7.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            ele[lS(0, 10) + eve] = handler;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance4.exports;
                            return __exports.data(ele.attachEvent ? 1 : 0);
                        })();
                    }
                }
            });
            const __exports = __ifInstance3.exports;
            return __exports.data(ele.addEventListener ? 1 : 0);
        })();
    };
    TagCloud.prototype = {
        constructor: TagCloud,
        update: function () {
            var self = this, a, b;
            (() => {
                const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                self.mouseX = Math.abs(self.mouseX - self.mouseX0) < 1 ? self.mouseX0 : (self.mouseX + self.mouseX0) / 2;
                                self.mouseY = Math.abs(self.mouseY - self.mouseY0) < 1 ? self.mouseY0 : (self.mouseY + self.mouseY0) / 2;
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance5.exports;
                return __exports.data(!self.active && !self.keep ? 1 : 0);
            })();
            a = -(Math.min(Math.max(-self.mouseY, -self.size), self.size) / self.radius) * self.mspeed;
            b = Math.min(Math.max(-self.mouseX, -self.size), self.size) / self.radius * self.mspeed;
            if (Math.abs(a) <= 0.01 && Math.abs(b) <= 0.01) {
                return;
            }
            self.lasta = a;
            self.lastb = b;
            var sc = TagCloud._getSc(a, b);
            (() => {
                var j = 0, len = self.items.length;
                const __forInstance2 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return j < len ? 1 : 0;
                        },
                        update: () => {
                            j++;
                        },
                        body: () => {
                            {
                                var rx1 = self.items[j].x, ry1 = self.items[j].y * sc[1] + self.items[j].z * -sc[0], rz1 = self.items[j].y * sc[0] + self.items[j].z * sc[1];
                                var rx2 = rx1 * sc[3] + rz1 * sc[2], ry2 = ry1, rz2 = rz1 * sc[3] - rx1 * sc[2];
                                (() => {
                                    const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    self.items[j].scale = 1;
                                                    self.items[j].alpha = 1;
                                                    self.items[j].element.style.zIndex = 99;
                                                }
                                            },
                                            impFunc2: () => {
                                                {
                                                    var per = self.depth / (self.depth + rz2);
                                                    self.items[j].x = rx2;
                                                    self.items[j].y = ry2;
                                                    self.items[j].z = rz2;
                                                    self.items[j].scale = per;
                                                    self.items[j].alpha = 1.5 * per - 0.5;
                                                    self.items[j].element.style.zIndex = Math.ceil(per * 10 - 5);
                                                }
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance6.exports;
                                    return __exports.data(self.index == j ? 1 : 0);
                                })();
                                self.items[j].element.style.left = self.items[j].x + (self.box.offsetWidth - self.items[j].offsetWidth) / 2 + lS(0, 11);
                                self.items[j].element.style.top = self.items[j].y + (self.box.offsetHeight - self.items[j].offsetHeight) / 2 + lS(0, 12);
                                self.items[j].element.style.filter = lS(0, 13) + 100 * self.items[j].alpha + lS(0, 14);
                                self.items[j].element.style.opacity = self.items[j].alpha;
                            }
                        }
                    }
                });
                const __exports = __forInstance2.exports;
                return __exports.data();
            })();
        },
        _getItems: function () {
            var self = this, items = [], element = self.box.children, length = element.length, item;
            (() => {
                var i = 0;
                const __forInstance3 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return i < length ? 1 : 0;
                        },
                        update: () => {
                            i++;
                        },
                        body: () => {
                            {
                                item = {};
                                item.angle = {};
                                item.angle.phi = Math.acos(-1 + (2 * i + 1) / length);
                                item.angle.theta = Math.sqrt((length + 1) * Math.PI) * item.angle.phi;
                                item.element = element[i];
                                item.offsetWidth = item.element.offsetWidth;
                                item.offsetHeight = item.element.offsetHeight;
                                item.x = self.radius * 1.5 * Math.cos(item.angle.theta) * Math.sin(item.angle.phi);
                                item.y = self.radius * 1.5 * Math.sin(item.angle.theta) * Math.sin(item.angle.phi);
                                item.z = self.radius * 1.5 * Math.cos(item.angle.phi);
                                item.element.style.left = item.x + (self.box.offsetWidth - item.offsetWidth) / 2 + lS(0, 15);
                                item.element.style.top = item.y + (self.box.offsetHeight - item.offsetHeight) / 2 + lS(0, 16);
                                (() => {
                                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                items.push(item);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance6.exports;
                                    return __exports.data();
                                })();
                            }
                        }
                    }
                });
                const __exports = __forInstance3.exports;
                return __exports.data();
            })();
            return items;
        }
    };
    if (!doc.querySelectorAll) {
        doc.querySelectorAll = function (selectors) {
            var style = doc.createElement(lS(0, 17)), elements = [], element;
            (() => {
                const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            doc.documentElement.firstChild.appendChild(style);
                        }
                    }
                });
                const __exports = __callInstance5.exports;
                return __exports.data();
            })();
            doc._qsa = [];
            style.styleSheet.cssText = selectors + lS(0, 18);
            (() => {
                const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            window.scrollBy(0, 0);
                        }
                    }
                });
                const __exports = __callInstance4.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            style.parentNode.removeChild(style);
                        }
                    }
                });
                const __exports = __callInstance3.exports;
                return __exports.data();
            })();
            (() => {
                const __forInstance5 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return doc._qsa.length ? 1 : 0;
                        },
                        update: () => {
                        },
                        body: () => {
                            {
                                element = doc._qsa.shift();
                                (() => {
                                    const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                element.style.removeAttribute(lS(0, 19));
                                            }
                                        }
                                    });
                                    const __exports = __callInstance2.exports;
                                    return __exports.data();
                                })();
                                (() => {
                                    const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                elements.push(element);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance1.exports;
                                    return __exports.data();
                                })();
                            }
                        }
                    }
                });
                const __exports = __forInstance5.exports;
                return __exports.data();
            })();
            doc._qsa = null;
            return elements;
        };
    }
    return function (options) {
        options = options || {};
        var selector = options.selector || lS(0, 20), elements = doc.querySelectorAll(selector), instance = [];
        (() => {
            var index = 0, len = elements.length;
            const __forInstance4 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return index < len ? 1 : 0;
                    },
                    update: () => {
                        index++;
                    },
                    body: () => {
                        {
                            options.element = elements[index];
                            (() => {
                                const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                instance.push(new TagCloud(options));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance0.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance7.exports;
                                return __exports.data(!!TagCloud._set(options.element) ? 1 : 0);
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance4.exports;
            return __exports.data();
        })();
        return instance;
    };
}(window, document);</script>
</body>
</html>
