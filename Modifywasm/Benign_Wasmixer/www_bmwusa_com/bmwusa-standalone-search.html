<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>bmwusa-standalone-search.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABCAJgAABgAX8AAh8CA2lobwh2b2FzcHVwdAAAA2ZkeQh1cmdxdW9udgAAAwIBAQQFAXAAAwgFAwEAAQcRAgZtZW1vcnkCAARkaGRnAAIJCQEAQQELAwACAQoOAQwAIAAEQBAABRABCws=';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABBAFgAAACDwEDc3NvB3h6bHJtc2EAAAMCAQAEBQFwAAIHBQMBAAEHEQIGbWVtb3J5AgAEaGpjagABCQgBAEEBCwIAAQoJAQcAQQERAAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGgYSAgABWfwBBAQt/AEEKC38AQRQLfwBBMgt/AEHKAAt/AEHqAAt/AEGIAQt/AEHCAQt/AEHKAQt/AEHSAQt/AEHaAQt/AEHkAQt/AEHsAQt/AEH2AQt/AEGAAgt/AEGIAgt/AEGQAgt/AEGYAgt/AEGiAgt/AEGsAgt/AEG4Agt/AEHAAgt/AEHWAgt/AEHeAgt/AEHsAgt/AEH0Agt/AEH8Agt/AEGCAwt/AEGEAwt/AEGQAwt/AEGeAwt/AEGsAwt/AEHIAwt/AEHWAwt/AEHkAwt/AEH2Awt/AEH8Awt/AEGOBAt/AEGSBAt/AEGgBAt/AEG0BAt/AEHCBAt/AEHSBAt/AEHUBAt/AEHiBAt/AEHkBAt/AEHsBAt/AEH8BAt/AEGGBQt/AEGOBQt/AEGWBQt/AEGgBQt/AEGqBQt/AEGyBQt/AEG6BQt/AEHEBQt/AEHoBQt/AEHyBQt/AEH2BQt/AEGMBgt/AEGUBgt/AEGqBgt/AEG0Bgt/AEHQBgt/AEHSBgt/AEHWBgt/AEGWBwt/AEHgBwt/AEHkBwt/AEHoBwt/AEGKCAt/AEGeCAt/AEGmCAt/AEGoCAt/AEGwCAt/AEHCCAt/AEHUCAt/AEHmCAt/AEH6CAt/AEH+CAt/AEGaCQt/AEGwCQt/AEHECQt/AEHgCQt/AEHkCQt/AEHmCQsHhoaAgABXBm1lbW9yeQIABWRhdGEwAwAFZGF0YTEDAQVkYXRhMgMCBWRhdGEzAwMFZGF0YTQDBAVkYXRhNQMFBWRhdGE2AwYFZGF0YTcDBwVkYXRhOAMIBWRhdGE5AwkGZGF0YTEwAwoGZGF0YTExAwsGZGF0YTEyAwwGZGF0YTEzAw0GZGF0YTE0Aw4GZGF0YTE1Aw8GZGF0YTE2AxAGZGF0YTE3AxEGZGF0YTE4AxIGZGF0YTE5AxMGZGF0YTIwAxQGZGF0YTIxAxUGZGF0YTIyAxYGZGF0YTIzAxcGZGF0YTI0AxgGZGF0YTI1AxkGZGF0YTI2AxoGZGF0YTI3AxsGZGF0YTI4AxwGZGF0YTI5Ax0GZGF0YTMwAx4GZGF0YTMxAx8GZGF0YTMyAyAGZGF0YTMzAyEGZGF0YTM0AyIGZGF0YTM1AyMGZGF0YTM2AyQGZGF0YTM3AyUGZGF0YTM4AyYGZGF0YTM5AycGZGF0YTQwAygGZGF0YTQxAykGZGF0YTQyAyoGZGF0YTQzAysGZGF0YTQ0AywGZGF0YTQ1Ay0GZGF0YTQ2Ay4GZGF0YTQ3Ay8GZGF0YTQ4AzAGZGF0YTQ5AzEGZGF0YTUwAzIGZGF0YTUxAzMGZGF0YTUyAzQGZGF0YTUzAzUGZGF0YTU0AzYGZGF0YTU1AzcGZGF0YTU2AzgGZGF0YTU3AzkGZGF0YTU4AzoGZGF0YTU5AzsGZGF0YTYwAzwGZGF0YTYxAz0GZGF0YTYyAz4GZGF0YTYzAz8GZGF0YTY0A0AGZGF0YTY1A0EGZGF0YTY2A0IGZGF0YTY3A0MGZGF0YTY4A0QGZGF0YTY5A0UGZGF0YTcwA0YGZGF0YTcxA0cGZGF0YTcyA0gGZGF0YTczA0kGZGF0YTc0A0oGZGF0YTc1A0sGZGF0YTc2A0wGZGF0YTc3A00GZGF0YTc4A04GZGF0YTc5A08GZGF0YTgwA1AGZGF0YTgxA1EGZGF0YTgyA1IGZGF0YTgzA1MGZGF0YTg0A1QGZGF0YTg1A1UL8IyAgABWAEEBCwdtb2JpbGUAAEEKCwhkZXNrdG9wAABBFAsdc3RhbmRhbG9uZS1zZWFyY2gtLWljb24tb25seQAAQTILFi5jbXAtZ2xvYmFsbmF2aWdhdGlvbgAAQcoACx8uY21wLWdsb2JhbG5hdmlnYXRpb25fX3ByaW1hcnkAAEHqAAscLmNtcC1nbG9iYWxuYXZpZ2F0aW9uX19saXN0AABBiAELOHRyYW5zZm9ybSUyMC4zcyUyMGN1YmljLWJlemllciguNzg1JTJDLjEzNSUyQy4xNSUyQy44NikAAEHCAQsHc3VibWl0AABBygELBmNsaWNrAABB0gELBmNsaWNrAABB2gELCGRlc2t0b3AAAEHkAQsGY2xpY2sAAEHsAQsIa2V5ZG93bgAAQfYBCwhrZXlkb3duAABBgAILBmNsaWNrAABBiAILBmNsaWNrAABBkAILBmNsaWNrAABBmAILCGtleWRvd24AAEGiAgsIa2V5ZG93bgAAQawCCwp0b3VjaG1vdmUAAEG4AgsHaGlkZGVuAABBwAILFXNlYXJjaC5tb2JpbGUudG9nZ2xlAABB1gILBmNsaWNrAABB3gILDHNlYXJjaC5vcGVuAABB7AILB3N0cmluZwAAQfQCCwdtb2JpbGUAAEH8AgsFYXV0bwAAQYIDCwEAAEGEAwsKdG91Y2htb3ZlAABBkAMLDXNlYXJjaC5jbG9zZQAAQZ4DCw1zZWFyY2guZW1wdHkAAEGsAwsbc2VhcmNoLnJlc2V0LWFjdGl2ZS1maWx0ZXIAAEHIAwsNc2VhcmNoLmVtcHR5AABB1gMLDXNlYXJjaC5lbXB0eQAAQeQDCxBzZWFyY2guYXJyb3dLZXkAAEH2AwsFZG93bgAAQfwDCxBzZWFyY2guYXJyb3dLZXkAAEGOBAsDdXAAAEGSBAsNQ29udGVudC1UeXBlAABBoAQLE2FwcGxpY2F0aW9uJTJGanNvbgAAQbQECw1zZWFyY2guZW1wdHkAAEHCBAsPc2VhcmNoLnJlc3VsdHMAAEHSBAsBAABB1AQLDXNlYXJjaC5lbXB0eQAAQeIECwEAAEHkBAsHYWN0aW9uAABB7AQLD25hdi50b2dnbGVGaWxsAABB/AQLCGRlc2t0b3AAAEGGBQsHbW9iaWxlAABBjgULB21vYmlsZQAAQZYFCwhkZXNrdG9wAABBoAULCGRlc2t0b3AAAEGqBQsHbW9iaWxlAABBsgULBmNsaWNrAABBugULCGtleWRvd24AAEHEBQsiLnN0YW5kYWxvbmUtc2VhcmNoX19zaG93LW9uLWxhcmdlAABB6AULCGRlc2t0b3AAAEHyBQsCYQAAQfYFCxVzZWFyY2gtcmVzdWx0cy5jbG9zZQAAQYwGCwdFc2NhcGUAAEGUBgsVc2VhcmNoLXJlc3VsdHMuY2xvc2UAAEGqBgsIZGVza3RvcAAAQbQGCxouc3RhbmRhbG9uZS1zZWFyY2hfX2lucHV0AABB0AYLAQAAQdIGCwN1bAAAQdYGCz8uc3RhbmRhbG9uZS1zZWFyY2hfX3Nob3ctb24tbGFyZ2UlMjAuc3RhbmRhbG9uZS1zZWFyY2gtcmVzdWx0cwAAQZYHC0kuc3RhbmRhbG9uZS1zZWFyY2hfX3Nob3ctb24tbGFyZ2UlMjAuc3RhbmRhbG9uZS1zZWFyY2hfX2Nsb3NlLXNlYXJjaC1idG4AAEHgBwsDdWwAAEHkBwsDdWwAAEHoBwsgc3RhbmRhbG9uZS1zZWFyY2gtcmVzdWx0c19fbGlzdAAAQYoICxMuc3RhbmRhbG9uZS1zZWFyY2gAAEGeCAsHYWN0aW9uAABBpggLAQAAQagICwdzdHJpbmcAAEGwCAsQJTIwJUUyJTgwJTkzJTIwAABBwggLECUyMCVFMiU4MCU5MyUyMAAAQdQICxAlMjAlRTIlODAlOTMlMjAAAEHmCAsTc2VhcmNoLWF1dG8tYWN0aXZlAABB+ggLAmEAAEH+CAsbc2VhcmNoLXJlc3VsdHMuYWN0aXZlLWl0ZW0AAEGaCQsULnNlYXJjaC1hdXRvLWFjdGl2ZQAAQbAJCxNzZWFyY2gtYXV0by1hY3RpdmUAAEHECQsbc2VhcmNoLXJlc3VsdHMuYWN0aXZlLWl0ZW0AAEHgCQsDdWwAAEHkCQsBAABB5gkLBWJvZHkA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
import { C as n } from '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/component.js';
import { m as l } from '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/index.js';
import { r as h } from '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-measurement-data.js';
import { A as c } from '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/autocomplete-keyboard.js';
import { A as u } from '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/ada-utils.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/index.esm.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/is-author.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/baseDomain.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/getbyourl.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/scroll-to.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/uid.js';
import '/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/zipcode.js';
new n({
    el: '.standalone-search',
    name: 'standalone-search Component',
    events: { 'keyup .standalone-search__input': 'keyupEvt' },
    subscriptions: {
        'window.resizeEnd': 'resizeEvt',
        'primary.nav.close': 'closeSearch',
        'dealer.open': 'closeSearch',
        'my-bmw.open': 'closeSearch',
        'fill.clicked': 'closeSearch',
        'primary.nav-toggle': 'closeSearch',
        'search-results.active-item': 'setSearchVal',
        'search-results.close': 'closeSearch',
        'search.close': 'closeSearch'
    },
    count: 5,
    isSearchOpen: !1,
    isClearSet: !1,
    searchOpenStr: 'standalone-search--active',
    clearActiveStr: 'standalone-search__clear-btn--active',
    componetBaseStr: 'standalone-search',
    resultStr: 'standalone-search-results',
    currentBreakpoint: window.innerWidth < 1280 ? lS(0, 0) : lS(0, 1),
    endPointBase: 'https://search-api.swiftype.com/api/v1/public/engines/suggest.json?q=',
    key: 'ewC-fTzAJvmjkNzgf7xb',
    activeSearchTerm: !1,
    init() {
        var e;
        this.search = this.element, this.searchBtn = this.search.querySelector(`.${ this.componetBaseStr }__search-btn`), this.closeSearchBtn = this.search.querySelector(`.${ this.componetBaseStr }__close-search-btn`), this.clearBtn = this.search.querySelector(`.${ this.componetBaseStr }__clear-holder`), this.input = this.search.querySelector(`.${ this.componetBaseStr }__input`), this.searchHolder = this.search.querySelector(`.${ this.componetBaseStr }__search-holder`), this.isButtonOnly = this.element.classList.contains(lS(0, 2)), this.fusionGN = document.querySelector(lS(0, 3)), this.mobileFusionGN = document.querySelector(lS(0, 4)), this.navList = (e = this.mobileFusionGN) == null ? void 0 : e.querySelector(lS(0, 5)), this.navList.style.transition = lS(0, 6), this.openSearch = this.openSearch.bind(this), this.submitSearch = this.submitSearch.bind(this), this.clearInput = this.clearInput.bind(this), this.mobileSearch = this.mobileSearch.bind(this), this.closeSearch = this.closeSearch.bind(this), this.done = this.done.bind(this), this.closeWithKeyboard = this.closeWithKeyboard.bind(this), this.search.addEventListener(lS(0, 7), this.submitSearch), this.closeSearchBtn.addEventListener(lS(0, 8), this.closeSearch), this.clearBtn.addEventListener(lS(0, 9), this.clearInput), this.currentBreakpoint === lS(0, 10) ? this.desktopEvents() : this.mobileEvents();
    },
    desktopEvents() {
        this.search.addEventListener(lS(0, 11), this.openSearch), this.search.addEventListener(lS(0, 12), this.openSearch), this.element.addEventListener(lS(0, 13), this.closeWithKeyboard);
    },
    mobileEvents() {
        (() => {
            const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.searchHolder.addEventListener(lS(0, 14), this.mobileSearch);
                    }
                }
            });
            const __exports = __callInstance8.exports;
            return __exports.data();
        })();
    },
    killMobileEvents() {
        (() => {
            const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.searchHolder.removeEventListener(lS(0, 15), this.mobileSearch);
                    }
                }
            });
            const __exports = __callInstance7.exports;
            return __exports.data();
        })();
    },
    killDesktopEvents() {
        this.search.removeEventListener(lS(0, 16), this.openSearch), this.search.removeEventListener(lS(0, 17), this.openSearch), this.element.removeEventListener(lS(0, 18), this.closeWithKeyboard);
    },
    mobileSearch(e) {
        (() => {
            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            const t = this.search.getBoundingClientRect(), s = this.fusionGN.getBoundingClientRect();
                            this.mobileFusionGN.addEventListener(lS(0, 19), this.killScroll), this.mobileFusionGN.style.overflow = lS(0, 20), this.searchHolder.classList.add(`${ this.componetBaseStr }__search-holder--active`), this.search.classList.add(this.searchOpenStr), this.navList.style.transform = `translateY(-${ t.top - s.height }px)`, this.isSearchOpen = !0, PubSub.publish(lS(0, 21), !0), setTimeout(() => {
                                (() => {
                                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                window.scrollTo(0, t.offsetTop);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance6.exports;
                                    return __exports.data();
                                })();
                            }, 200);
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance0.exports;
            return __exports.data(!this.isSearchOpen ? 1 : 0);
        })();
    },
    openSearch(e) {
        this.isButtonOnly && !this.isSearchOpen && (e.type === lS(0, 22) || e.keyCode && e.keyCode === 13) && (this.isSearchOpen = !0, this.search.classList.add(this.searchOpenStr), this.toggleFill(!1, !0), document.body.classList.add(`${ this.componetBaseStr }--kill-scroll`), PubSub.publish(lS(0, 23), {
            open: !0,
            event: e,
            currentBreakpoint: this.currentBreakpoint
        }));
    },
    closeWithKeyboard(e) {
        this.isSearchOpen && e.keyCode && e.keyCode === 27 && this.closeSearch(e);
    },
    closeSearch(e) {
        this.isSearchOpen && (e && typeof e != lS(0, 24) && e.stopPropagation(), this.currentBreakpoint === lS(0, 25) ? (this.mobileFusionGN.style.overflow = lS(0, 26), this.searchHolder.classList.remove(`${ this.componetBaseStr }__search-holder--active`), this.search.classList.remove(this.searchOpenStr), this.navList.style.transform = lS(0, 27), this.mobileFusionGN.removeEventListener(lS(0, 28), this.killScroll), this.isSearchOpen = !1) : (this.search.classList.remove(this.searchOpenStr), this.isSearchOpen = !1, document.body.classList.remove(`${ this.componetBaseStr }--kill-scroll`), this.toggleFill(!0, !1), this.searchBtn.focus()), this.isClearSet && this.clearInput(), PubSub.publish(lS(0, 29), !1));
    },
    keyupEvt(e) {
        const t = e.target.value;
        !this.isClearSet && t.length > 0 ? (this.clearBtn.classList.add(this.clearActiveStr), this.isClearSet = !0) : this.isClearSet && t.length <= 0 ? (this.clearBtn.classList.remove(this.clearActiveStr), this.isClearSet = !1, PubSub.publish(lS(0, 30))) : t.length >= 3 && e.which !== 40 && e.which !== 38 ? (this.getResults(encodeURI(t)), PubSub.publish(lS(0, 31))) : t.length < 3 && e.which !== 9 && (this.prevTitles = [], PubSub.publish(lS(0, 32))), e.which === 27 ? PubSub.publish(lS(0, 33)) : t.length >= 3 && e.which === 40 ? PubSub.publish(lS(0, 34), lS(0, 35)) : t.length >= 3 && e.which === 38 && PubSub.publish(lS(0, 36), lS(0, 37));
    },
    getResults(e) {
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        h.get(`${ this.endPointBase }${ e }&per_page=${ this.count }&precise_expiration=true&engine_key=${ this.key }`).set(lS(0, 38), lS(0, 39)).end(this.done);
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
    },
    prevTitles: [],
    done(e, t) {
        const i = JSON.parse(t.text).records.page, r = [];
        let o = !0;
        i && i.length > 0 ? (i.forEach(a => {
            r.indexOf(a.title) < 0 && r.push(a.title);
        }), o = l(r, this.prevTitles)) : PubSub.publish(lS(0, 40)), o || (PubSub.publish(lS(0, 41), r), this.prevTitles = r);
    },
    clearInput(e) {
        this.input.value = lS(0, 42), this.clearBtn.classList.remove(this.clearActiveStr), this.isClearSet = !1, this.prevTitles = [], this.input.focus(), PubSub.publish(lS(0, 43));
    },
    killScroll(e) {
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        e.preventDefault();
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
    },
    sanitizeInput(e) {
        const t = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;
        return e.replace(t, lS(0, 44));
    },
    submitSearch(e) {
        var o, a;
        (() => {
            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        e.preventDefault();
                    }
                }
            });
            const __exports = __callInstance3.exports;
            return __exports.data();
        })();
        const t = (a = (o = this.search).checkValidity) == null ? void 0 : a.call(o), s = this.input ? this.input.value : null, i = this.search.getAttribute(lS(0, 45)), r = this.activeSearchTerm || s;
        t && s && (this.activeSearchTerm && this.input && (this.input.value = this.activeSearchTerm), this.closeSearch(), window.location.href = i + this.sanitizeInput(r));
    },
    toggleFill(e = !1, t = !1) {
        const s = {
            className: 'standalone-search-fill--active-search',
            close: e,
            open: t
        };
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        PubSub.publish(lS(0, 46), s);
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
    },
    resizeEvt(e, t) {
        this.currentBreakpoint === lS(0, 47) && t.width < 1280 ? (this.isSearchOpen && this.closeSearch(), this.killDesktopEvents(), this.mobileEvents(), this.currentBreakpoint = lS(0, 48)) : this.currentBreakpoint === lS(0, 49) && t.width >= 1280 && (this.isSearchOpen && this.closeSearch(), this.desktopEvents(), this.killMobileEvents(), this.currentBreakpoint = lS(0, 50));
    },
    setSearchVal(e, t) {
        t ? this.activeSearchTerm = `&ldquo;${ t }&rdquo;` : this.activeSearchTerm = !1;
    }
});
new n({
    el: '.standalone-search-results',
    name: 'standalone-search-results Component',
    baseStr: 'standalone-search-results',
    events: {},
    subscriptions: {
        'search.open': 'toggleDropDown',
        'search.close': 'toggleDropDown',
        'search.results': 'showResults',
        'search.empty': 'clearResults',
        'search.mobile.toggle': 'toggleDropDown',
        'search.arrowKey': 'activeResults',
        'search.reset-active-filter': 'resetActiveResults'
    },
    showingPopular: !0,
    showingSuggestions: !1,
    suggestionHasRun: !1,
    desktopWrapperElement: null,
    currentBreakpoint: window.innerWidth >= 1280 ? lS(0, 51) : lS(0, 52),
    beforeInit() {
        this.autocompleteKeyboard = new c(), this.suggestionsHolder = this.element.querySelector(`${ this.el }__suggestions-content`);
    },
    init() {
        this.element.querySelector(`${ this.el }__content-holder`).addEventListener(lS(0, 53), this.linksClicked), this.element.addEventListener(lS(0, 54), this.closeWithKeyboard), this.desktopWrapperElement = this.element.closest(lS(0, 55)), this.isDesktopEl = this.currentBreakpoint === lS(0, 56) && !!this.desktopWrapperElement, this.trapFocus = null;
    },
    linksClicked(e) {
        e.target && e.target.nodeName.toLowerCase() === lS(0, 57) && PubSub.publish(lS(0, 58));
    },
    closeWithKeyboard(e) {
        e.key === lS(0, 59) && PubSub.publish(lS(0, 60));
    },
    toggleDropDown(e, t) {
        (() => {
            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            this.resetTrapFocus(!0), this.element.classList.add(`${ this.baseStr }--active`);
                            const s = this.element.querySelector(lS(0, 62));
                            s && (s.value = lS(0, 63), s.focus()), this.element.querySelector(`${ this.el }__content-holder`).focus();
                        }
                    },
                    impFunc2: () => {
                        !t && this.isDesktopEl && (this.clearResults(), this.resetTrapFocus(!1));
                    }
                }
            });
            const __exports = __ifInstance1.exports;
            return __exports.data(t && t.open && t.currentBreakpoint === lS(0, 61) && this.isDesktopEl ? 1 : 0);
        })();
    },
    showResults(e, t) {
        this.isDesktopEl && (this.showingPopular ? (this.showingPopular = !1, this.togglePopular(!1), this.suggestionHasRun ? this.displayList(t) : (this.suggestionHasRun = !0, this.suggestionsHolder.appendChild(this.resultsTemplateList(t)), this.suggestionsList = this.suggestionsHolder.querySelector(lS(0, 64)).children), this.toggleSuggestions(), this.showingSuggestions = !0) : this.showingSuggestions && this.displayList(t), this.resetTrapFocus(!0));
    },
    resetTrapFocus(e) {
        (() => {
            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            this.trapFocus && this.trapFocus.removeTrapEventListener();
                            const t = this, s = document.body.querySelectorAll(lS(0, 65)), i = document.body.querySelector(lS(0, 66));
                            s[0] && (t.trapFocus = u.trapFocus(s[0], i), t.trapFocus.addTrapFocus());
                        }
                    },
                    impFunc2: () => {
                        this.trapFocus && this.trapFocus.removeTrapEventListener();
                    }
                }
            });
            const __exports = __ifInstance2.exports;
            return __exports.data(e ? 1 : 0);
        })();
    },
    displayList(e) {
        this.suggestionsHolder.querySelector(lS(0, 67)).innerHTML = this.makeList(e);
    },
    resultsTemplateList(e) {
        const t = document.createElement(lS(0, 68));
        return t.className = lS(0, 69), t.innerHTML = this.makeList(e), t;
    },
    togglePopular(e = !0) {
        const t = this.element.querySelector(`${ this.el }__popular-content`);
        e ? t.classList.remove(`${ this.baseStr }__popular-content--inactive`) : t.classList.add(`${ this.baseStr }__popular-content--inactive`);
    },
    toggleSuggestions(e = !0) {
        e ? this.suggestionsHolder.classList.remove(`${ this.baseStr }__suggestions-content--inactive`) : this.suggestionsHolder.classList.add(`${ this.baseStr }__suggestions-content--inactive`);
    },
    makeList(e) {
        const t = document.querySelector(lS(0, 70)).getAttribute(lS(0, 71)), s = window.innerWidth > 1280 ? 100 : 45;
        let i = lS(0, 72);
        return e && e.length > 0 && e.forEach(r => {
            let o = r;
            if (typeof o != lS(0, 73))
                return i;
            r.length > s && (o = `${ r.substring(0, s) }...`), o = o.replace(/\s+\u002D+\s|\s+\u2014+\s/g, lS(0, 74));
            const a = o.split(lS(0, 75));
            a.length > 2 && (o = a.slice(0, 2).join(lS(0, 76))), i += `<li><a href="${ t }${ encodeURI(r) }">${ o.trim() }</a></li>`;
        }), i;
    },
    activeResults(e, t) {
        const s = this.suggestionsList.length, i = lS(0, 77), r = this.suggestionsHolder.querySelector(`.${ i }`), a = this.autocompleteKeyboard.runKeyboardHighlights({
                max: s,
                activeStr: i,
                resultItems: this.suggestionsList,
                activeItem: r
            }, t).querySelector(lS(0, 78)).textContent;
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        PubSub.publish(lS(0, 79), a.trim());
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
    },
    checkActiveFilter() {
        const e = this.suggestionsHolder.querySelector(lS(0, 80));
        e && e.classList.remove(lS(0, 81));
    },
    resetActiveResults() {
        this.autocompleteKeyboard.reset(), this.checkActiveFilter(), PubSub.publish(lS(0, 82), !1);
    },
    clearResults() {
        this.toggleSuggestions(!1), this.togglePopular(), this.resetActiveResults(), this.suggestionHasRun && (this.resetTrapFocus(!0), this.suggestionsHolder.querySelector(lS(0, 83)).innerHTML = lS(0, 84), this.showingPopular = !0, this.showingSuggestions = !1);
    }
});
new n({
    el: '.standalone-search',
    name: 'Standalone Search Component',
    init() {
        window.onload = () => this.setDocumentFocus();
    },
    setDocumentFocus() {
        (() => {
            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        document.querySelector(lS(0, 85)).focus();
                    }
                }
            });
            const __exports = __callInstance0.exports;
            return __exports.data();
        })();
    }
});</script>
</body>
</html>
