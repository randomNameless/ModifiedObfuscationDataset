<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>module_-2712622_Site_search_input.min.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABCAJgAABgAX8AAh8CA2ZzZAhndmdscW9iegAAA3B3cghlemFjaXh4bAAAAwIBAQQFAXAAAwgFAwEAAQcRAgZtZW1vcnkCAARhemR2AAIJCQEAQQELAwIAAQoOAQwAIAAEQBAABRABCws=';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABBAFgAAACDwEDZXZrB2J2am9pbW8AAAMCAQAEBQFwAAIHBQMBAAEHEQIGbWVtb3J5AgAEdXR2cAABCQgBAEEBCwIBAAoJAQcAQQIRAAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG7IGAgAAofwBBAQt/AEEQC38AQSoLfwBBLAt/AEE6C38AQdIAC38AQdYAC38AQeAAC38AQeoAC38AQYQBC38AQYYBC38AQZ4BC38AQb4BC38AQdgBC38AQd4BC38AQYQCC38AQYoCC38AQbgCC38AQboCC38AQdgCC38AQfYCC38AQfwCC38AQZYDC38AQbYDC38AQdgDC38AQeQDC38AQfoDC38AQYwEC38AQZIEC38AQZgEC38AQc4EC38AQfQEC38AQfwEC38AQYQFC38AQYwFC38AQZIFC38AQZgFC38AQZ4FC38AQaQFC38AQbYFCwfogoCAACkGbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAZkYXRhMTcDEQZkYXRhMTgDEgZkYXRhMTkDEwZkYXRhMjADFAZkYXRhMjEDFQZkYXRhMjIDFgZkYXRhMjMDFwZkYXRhMjQDGAZkYXRhMjUDGQZkYXRhMjYDGgZkYXRhMjcDGwZkYXRhMjgDHAZkYXRhMjkDHQZkYXRhMzADHgZkYXRhMzEDHwZkYXRhMzIDIAZkYXRhMzMDIQZkYXRhMzQDIgZkYXRhMzUDIwZkYXRhMzYDJAZkYXRhMzcDJQZkYXRhMzgDJgZkYXRhMzkDJwvyhoCAACgAQQELDXNlYXJjaF9pbnB1dAAAQRALGCU1QiU1QnNlYXJjaF90ZXJtJTVEJTVEAABBKgsBAABBLAsMc2hvdy1mb3Itc3IAAEE6CxZocy1zZWFyY2gtZmllbGQtLW9wZW4AAEHSAAsCYQAAQdYACwhrZXlkb3duAABB4AALCGtleWRvd24AAEHqAAsYJTVCJTVCc2VhcmNoX3Rlcm0lNUQlNUQAAEGEAQsBAABBhgELFmhzLXNlYXJjaC1maWVsZC0tb3BlbgAAQZ4BCx4lNUIlNUJudW1iZXJfb2ZfcmVzdWx0cyU1RCU1RAAAQb4BCxglNUIlNUJzZWFyY2hfdGVybSU1RCU1RAAAQdgBCwV0eXBlAABB3gELJWhzLXNlYXJjaC1pbnB1dF9fdmFsaWQtY29udGVudC10eXBlcwAAQYQCCwV0eXBlAABBigILLUVycm9yJTIwcGFyc2luZyUyMHZhbGlkJTIwY29udGVudCUyMHR5cGVzJTNBAABBuAILAQAAQboCCx1ocy1zZWFyY2gtZmllbGQtLWluaXRpYWxpemVkAABB2AILHWhzLXNlYXJjaC1maWVsZC0taW5pdGlhbGl6ZWQAAEH2AgsFZm9ybQAAQfwCCxguaHMtc2VhcmNoLWZpZWxkX19pbnB1dAAAQZYDCx4uaHMtc2VhcmNoLWZpZWxkX19zdWdnZXN0aW9ucwAAQbYDCyAuaHMtc2VhcmNoLXNyLW1lc3NhZ2UtY29udGFpbmVyAABB2AMLCmxpbWl0JTNEMwAAQeQDCxRhdXRvY29tcGxldGUlM0R0cnVlAABB+gMLEWFuYWx5dGljcyUzRHRydWUAAEGMBAsEJTI2AABBkgQLBEdFVAAAQZgECzRTZXJ2ZXIlMjByZWFjaGVkJTJDJTIwZXJyb3IlMjByZXRyaWV2aW5nJTIwcmVzdWx0cy4AAEHOBAskQ291bGQlMjBub3QlMjByZWFjaCUyMHRoZSUyMHNlcnZlci4AAEH0BAsGaW5wdXQAAEH8BAsHc3VibWl0AABBhAULB2FjdGlvbgAAQYwFCwQlM0YAAEGSBQsEJTI2AABBmAULBCUzRgAAQZ4FCwQlMjYAAEGkBQsRRE9NQ29udGVudExvYWRlZAAAQbYFCxEuaHMtc2VhcmNoLWZpZWxkAA=='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
var module_2712622 = function () {
    const DEFAULT_MODULE_CONFIG = Object.freeze({
        autosuggest_results_message: 'Results for \u201C[[search_term]]\u201D',
        sr_autosuggest_results_message: 'There are currently [[number_of_results]] auto-suggested results for [[search_term]].',
        sr_search_field_aria_label: 'This is a search field with an auto-suggest feature attached.',
        sr_search_button_aria_label: 'Search'
    });
    let srAnnounceTimeout;
    const moduleConfig = (moduleName => {
            const configJSONScript = document.querySelector(`[data-${ moduleName }-config]`);
            return configJSONScript ? JSON.parse(configJSONScript.textContent) : DEFAULT_MODULE_CONFIG;
        })(lS(0, 0)), KEYS = Object.freeze({
            TAB: 'Tab',
            ESC: 'Esc',
            ESCAPE: 'Escape',
            UP: 'Up',
            ARROW_UP: 'ArrowUp',
            DOWN: 'Down',
            ARROW_DOWN: 'ArrowDown'
        }), debounce = (func, wait) => {
            let timer;
            return (...args) => {
                clearTimeout(timer), timer = setTimeout(() => {
                    (() => {
                        const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    func.apply(this, args);
                                }
                            }
                        });
                        const __exports = __callInstance14.exports;
                        return __exports.data();
                    })();
                }, wait);
            };
        }, emptySearchSuggestions = (suggestionsResponse, searchInputElements) => {
            const {
                    searchForm: searchForm,
                    searchSuggestions: searchSuggestions,
                    searchInput: searchInput,
                    srMessageContainer: srMessageContainer
                } = searchInputElements, {searchTerm: searchTerm} = suggestionsResponse, noSearchResultsMessage = searchTerm ? moduleConfig.autosuggest_no_results_message.replace(lS(0, 1), searchTerm) : moduleConfig.sr_empty_search_field_message, emptyResultsItem = `<li role="option"\n    tabindex="-1"\n    aria-posinset="1"\n    aria-setsize="0"\n    class="results-for ${ searchTerm ? lS(0, 2) : lS(0, 3) }">${ noSearchResultsMessage }</li>`;
            searchSuggestions.innerHTML = emptyResultsItem, srMessageContainer.innerHTML = noSearchResultsMessage, searchInput.focus(), searchForm.classList.remove(lS(0, 4));
        }, trapFocus = searchInputElements => {
            const {
                    searchInput: searchInput,
                    searchSuggestions: searchSuggestions,
                    searchInputContainer: searchInputContainer
                } = searchInputElements, tabbable = [];
            (() => {
                const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            tabbable.push(searchInput);
                        }
                    }
                });
                const __exports = __callInstance13.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            searchSuggestions.querySelectorAll(lS(0, 5)).forEach(suggestion => tabbable.push(suggestion));
                        }
                    }
                });
                const __exports = __callInstance12.exports;
                return __exports.data();
            })();
            const firstTabbable = tabbable[0], lastTabbable = tabbable[tabbable.length - 1];
            searchInputContainer.removeEventListener(lS(0, 6), window.captureKeyDown), window.captureKeyDown = e => {
                switch (e.key) {
                case KEYS.TAB:
                    (() => {
                        const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    (e => {
                                        e.target !== lastTabbable || e.shiftKey ? e.target === firstTabbable && e.shiftKey && (e.preventDefault(), lastTabbable.focus()) : (e.preventDefault(), firstTabbable.focus());
                                    })(e);
                                }
                            }
                        });
                        const __exports = __callInstance11.exports;
                        return __exports.data();
                    })();
                    break;
                case KEYS.ESC:
                case KEYS.ESCAPE:
                    (() => {
                        const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    emptySearchSuggestions({}, searchInputElements);
                                }
                            }
                        });
                        const __exports = __callInstance10.exports;
                        return __exports.data();
                    })();
                    break;
                case KEYS.UP:
                case KEYS.ARROW_UP:
                    (() => {
                        const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    (e => {
                                        e.preventDefault(), e.target === firstTabbable ? lastTabbable.focus() : tabbable.forEach(el => {
                                            el === e.target && tabbable[tabbable.indexOf(el) - 1].focus();
                                        });
                                    })(e);
                                }
                            }
                        });
                        const __exports = __callInstance9.exports;
                        return __exports.data();
                    })();
                    break;
                case KEYS.DOWN:
                case KEYS.ARROW_DOWN:
                    (() => {
                        const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    (e => {
                                        e.preventDefault(), e.target === lastTabbable ? firstTabbable.focus() : tabbable.forEach(el => {
                                            el === e.target && tabbable[tabbable.indexOf(el) + 1].focus();
                                        });
                                    })(e);
                                }
                            }
                        });
                        const __exports = __callInstance8.exports;
                        return __exports.data();
                    })();
                }
            }, searchInputContainer.addEventListener(lS(0, 7), window.captureKeyDown);
        }, renderSearchSuggestions = (suggestionsResponse, searchInputElements) => {
            const {
                    searchSuggestions: searchSuggestions,
                    srMessageContainer: srMessageContainer,
                    searchInputContainer: searchInputContainer
                } = searchInputElements, {
                    results: results,
                    searchTerm: searchTerm
                } = suggestionsResponse, searchResultsMessage = moduleConfig.autosuggest_results_message.replace(lS(0, 8), searchTerm), items = [
                    `<li role="option"\n      tabindex="-1"\n      aria-posinset="1"\n      aria-setsize="${ results.length }"\n      class="results-for">${ searchResultsMessage }</li>`,
                    ...results.map((result, index) => `<li role="option"\n          aria-posinset="${ index + 2 }"\n          tabindex="${ index + 1 }"><a href="${ result.url }">${ result.title }</a></li>`)
                ];
            emptySearchSuggestions({}, searchInputElements), searchSuggestions.innerHTML = items.join(lS(0, 9)), searchInputContainer.classList.add(lS(0, 10)), srAnnounceTimeout = setTimeout(() => {
                (() => {
                    const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                ((suggestionsResponse, srMessageContainer) => {
                                    const {
                                        results: results,
                                        searchTerm: searchTerm
                                    } = suggestionsResponse;
                                    srMessageContainer && (srMessageContainer.innerHTML = `${ moduleConfig.sr_autosuggest_results_message.replace(lS(0, 11), results.length).replace(lS(0, 12), searchTerm) }`);
                                })(suggestionsResponse, srMessageContainer);
                            }
                        }
                    });
                    const __exports = __callInstance7.exports;
                    return __exports.data();
                })();
            }, 1500);
        }, getSearchContentTypesQueryParamsArray = searchForm => {
            const data = new FormData(searchForm);
            let formTypeParams = [], otherParams = [];
            for (const [key, value] of data.entries()) {
                const param = `${ encodeURIComponent(key) }=${ encodeURIComponent(value) }`;
                (() => {
                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                (lS(0, 13) === key ? formTypeParams : otherParams).push(param);
                            }
                        }
                    });
                    const __exports = __callInstance6.exports;
                    return __exports.data();
                })();
            }
            return formTypeParams = function (formParams) {
                const validContentTypesElement = document.getElementById(lS(0, 14));
                if (!validContentTypesElement)
                    return formParams;
                try {
                    const validContentTypes = new Set(JSON.parse(validContentTypesElement.textContent)), newParams = new URLSearchParams(window.location.search).getAll(lS(0, 15)).filter(type => validContentTypes.has(type)).map(type => `type=${ encodeURIComponent(type) }`);
                    return newParams.length > 0 ? newParams : formParams;
                } catch (e) {
                    return console.warn(lS(0, 16), e), formParams;
                }
            }(formTypeParams), [
                ...formTypeParams,
                ...otherParams
            ];
        }, initializeSearchInput = searchInputContainer => {
            let searchTerm = lS(0, 17);
            if (searchInputContainer.classList.contains(lS(0, 18)))
                return;
            (() => {
                const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            searchInputContainer.classList.add(lS(0, 19));
                        }
                    }
                });
                const __exports = __callInstance5.exports;
                return __exports.data();
            })();
            const searchForm = searchInputContainer.querySelector(lS(0, 20)), searchInput = searchForm.querySelector(lS(0, 21)), searchSuggestions = searchInputContainer.querySelector(lS(0, 22)), srMessageContainer = searchInputContainer.querySelector(lS(0, 23)), searchInputElements = {
                    searchInputContainer: searchInputContainer,
                    searchForm: searchForm,
                    searchSuggestions: searchSuggestions,
                    srMessageContainer: srMessageContainer,
                    searchInput: searchInput
                }, isSearchTermPresent = debounce(() => {
                    searchTerm = searchInput.value, searchTerm.length > 2 ? (searchInputElements => {
                        const {searchForm: searchForm} = searchInputElements, parsedParamsArray = getSearchContentTypesQueryParamsArray(searchForm);
                        parsedParamsArray.push(lS(0, 24)), parsedParamsArray.push(lS(0, 25)), parsedParamsArray.push(lS(0, 26));
                        const searchUrl = `/_hcms/v3/site-search/search?${ new URLSearchParams(parsedParamsArray.join(lS(0, 27))).toString() }`, request = new XMLHttpRequest();
                        request.open(lS(0, 28), searchUrl, !0), request.onload = function () {
                            (() => {
                                const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                const resultData = JSON.parse(request.responseText);
                                                srAnnounceTimeout && clearTimeout(srAnnounceTimeout), resultData.results.length > 0 ? (renderSearchSuggestions(resultData, searchInputElements), trapFocus(searchInputElements)) : emptySearchSuggestions(resultData, searchInputElements);
                                            }
                                        },
                                        impFunc2: () => {
                                            (() => {
                                                const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            console.error(lS(0, 29));
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance4.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                });
                                const __exports = __ifInstance0.exports;
                                return __exports.data(request.status >= 200 && request.status < 400 ? 1 : 0);
                            })();
                        }, request.onerror = function () {
                            (() => {
                                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            console.error(lS(0, 30));
                                        }
                                    }
                                });
                                const __exports = __callInstance3.exports;
                                return __exports.data();
                            })();
                        }, request.send();
                    })(searchInputElements) : 0 === searchTerm.length && emptySearchSuggestions({}, searchInputElements);
                }, 250);
            searchInput.addEventListener(lS(0, 31), () => {
                searchTerm !== searchInput.value && isSearchTermPresent();
            }), searchForm.addEventListener(lS(0, 32), function (e) {
                (() => {
                    const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                e.preventDefault();
                            }
                        }
                    });
                    const __exports = __callInstance2.exports;
                    return __exports.data();
                })();
                const form = e.target;
                let redirectUrl = form.getAttribute(lS(0, 33));
                redirectUrl += redirectUrl.includes(lS(0, 34)) ? lS(0, 35) : lS(0, 36);
                const currentParams = getSearchContentTypesQueryParamsArray(form).join(lS(0, 37));
                currentParams && (redirectUrl += currentParams), window.location.href = redirectUrl;
            });
        };
    (() => {
        const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    document.addEventListener(lS(0, 38), () => {
                        const searchInputContainers = document.querySelectorAll(lS(0, 39));
                        searchInputContainers.length > 0 && searchInputContainers.forEach(searchInputContainer => {
                            (() => {
                                const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            initializeSearchInput(searchInputContainer);
                                        }
                                    }
                                });
                                const __exports = __callInstance0.exports;
                                return __exports.data();
                            })();
                        });
                    });
                }
            }
        });
        const __exports = __callInstance1.exports;
        return __exports.data();
    })();
}();</script>
</body>
</html>
