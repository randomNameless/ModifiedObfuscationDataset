<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>sponsors-graph.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABCAJgAABgAX8AAh8CA3dnbgh0cXpvdXdtaAAAA3R2YQhmcXhqZHhjcAAAAwIBAQQFAXAAAwgFAwEAAQcRAgZtZW1vcnkCAARqZnJ4AAIJCQEAQQELAwACAQoOAQwAIAAEQBAABRABCws=';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABBAFgAAACDwEDc2V5B2xxZWl0YWcAAAMCAQAEBQFwAAIHBQMBAAEHEQIGbWVtb3J5AgAEc3h3dAABCQgBAEEBCwIAAQoJAQcAQQERAAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG9IGAgAApfwBBAQt/AEEaC38AQSoLfwBB6gALfwBB8gALfwBBuAELfwBBxgELfwBB/AELfwBBtAMLfwBBvgMLfwBB7AMLfwBBoAQLfwBBxAQLfwBB1AQLfwBB3AQLfwBB4gQLfwBB6AQLfwBB8AQLfwBB9gQLfwBBjgULfwBBlAULfwBBogULfwBBqAULfwBBtgULfwBBvgULfwBBxAULfwBB2AULfwBB3gULfwBB5AULfwBB5gULfwBB6gULfwBB8gULfwBB+AULfwBB/gULfwBBhgYLfwBBjAYLfwBBkgYLfwBBmAYLfwBBoAYLfwBBogYLfwBBqgYLB/GCgIAAKgZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoC/yHgIAAKQBBAQsXJTJGZGF0YSUyRmJhY2tlcnMuanNvbgAAQRoLDmFkYmxvY2slMjBwcm8AAEEqCz5BZEJsb2NrJTIwUHJvJTNBJTIwQmxvY2slMjBhZHMlMjBhbmQlMjB0cmFja2VycyUyMGluJTIwU2FmYXJpAABB6gALB2ljb25zOAAAQfIAC0VJY29uczglM0ElMjBGcmVlJTIwaWNvbnMlMkMlMjBjbGlwYXJ0JTIwaWxsdXN0cmF0aW9ucyUyMGFuZCUyMHBob3RvcwAAQbgBCw1pbnN0aW5jdG9vbHMAAEHGAQs1Kmluc3RpbmN0b29scyUzQSUyMFNvZnR3YXJlJTIwRGV2ZWxvcG1lbnQlMjBTZXJ2aWNlcwAAQfwBC7cBaW5zdGluY3Rvb2xzJTIwaXMlMjBhJTIwc29mdHdhcmUlMjBwcm9kdWN0JTIwZGV2ZWxvcG1lbnQlMjBhbmQlMjBjb25zdWx0aW5nJTIwY29tcGFueSUyMGZvY3VzZWQlMjBvbiUyMGRpZ2l0YWwlMjB0cmFuc2Zvcm1hdGlvbiUyMHNlcnZpY2VzJTIwaGVhZHF1YXJ0ZXJlZCUyMGluJTIwR2VybWFueSUyMGFuZCUyMFVTQS4AAEG0AwsIdnBud2VsdAAAQb4DCy1odHRwcyUzQSUyRiUyRnZwbndlbHQuY29tJTJGdnBuLWtvc3RlbmxvcyUyRgAAQewDCzJWUE53ZWx0JTNBJTIwQmVzdCUyMFZQTiUyMFByb3ZpZGVycyUyMFJlY29tbWVuZGVkAABBoAQLIkJlc3QlMjBGcmVlJTIwVlBOJTIwZm9yJTIwR2VybWFueQAAQcQECw53b3JkJTIwZmluZGVyAABB1AQLB3RvdWNhbgAAQdwECwRkaXYAAEHiBAsFd2lkZQAAQegECwdpY29uczgAAEHwBAsFd2lkZQAAQfYECxZ3b3JkLWZpbmRlciUyMHZwbndlbHQAAEGOBQsFd2lkZQAAQZQFCw1pbnN0aW5jdG9vbHMAAEGiBQsFd2lkZQAAQagFCwxhZGJsb2NrLXBybwAAQbYFCwZzbWFsbAAAQb4FCwVzcGFuAABBxAULEmJhY2tlci1waWMtLWVtcHR5AABB2AULBCUzRgAAQd4FCwQlMjAAAEHkBQsBAABB5gULAmEAAEHqBQsHYmFja2VyAABB8gULBXNwYW4AAEH4BQsFc3BhbgAAQf4FCwdzdHJvbmcAAEGGBgsEJTNBAABBjAYLBCUzQQAAQZIGCwQlM0EAAEGYBgsHYmFja2VyAABBoAYLAQAAQaIGCwZzdHlsZQAAQaoGCxlkYXJrcmVhZGVyLWJhY2tlcnMtZ3JhcGgA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
import {
    createHTMLElement as html,
    classes
} from './utils.js';
import { clicker } from './stats.js';
async function loadJSON(url) {
    const response = await fetch(url);
    return await response.json();
}
let backersCache;
async function getBackers() {
    if (backersCache) {
        return backersCache;
    }
    const backers = await loadJSON(lS(0, 0));
    backersCache = backers;
    return backers;
}
function scale(x, inLow, inHigh, outLow, outHigh) {
    return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
}
function createBackersGraph(backers) {
    const count = 0;
    function getColor(i) {
        const fillHue = scale(i, 0, count - 1, 120, 240);
        const fillSaturation = 25;
        const fillBrightness = scale(i, 0, count - 1, 50, 30);
        return `hsl(${ fillHue }, ${ fillSaturation }%, ${ fillBrightness }%)`;
    }
    const adblockPro = backers.find(o => o.name.toLowerCase().includes(lS(0, 1)));
    adblockPro.name = lS(0, 2);
    const icons8Org = backers.find(o => o.name.toLowerCase().includes(lS(0, 3)));
    icons8Org.name = lS(0, 4);
    icons8Org.pri = 1;
    const instinctools = backers.find(o => o.name.toLowerCase().includes(lS(0, 5)));
    instinctools.pri = 1;
    instinctools.name = lS(0, 6);
    instinctools.info = lS(0, 7);
    const vpnBlogOrg = backers.find(o => o.name.toLowerCase().includes(lS(0, 8)));
    vpnBlogOrg.url = lS(0, 9);
    vpnBlogOrg.pri = 1;
    vpnBlogOrg.name = lS(0, 10);
    vpnBlogOrg.info = lS(0, 11);
    const wordFinder = backers.find(o => o.name.toLowerCase().includes(lS(0, 12)));
    wordFinder.pri = 1;
    wordFinder.name = `Word Finder: Solve Wordle and other word games`;
    const toucanOrg = backers.find(o => o.name.toLowerCase().includes(lS(0, 13)));
    const displayBackers = backers.filter(b => ![
        adblockPro,
        icons8Org,
        instinctools,
        wordFinder,
        toucanOrg
    ].includes(b)).filter(b => b.pic != null).sort((a, b) => b.net - a.net).slice(0, count);
    for (let y = 0; y < 5; y++) {
        for (let x = 0; x < 6; x++) {
            const i = y * 6 + x;
            if (i >= displayBackers.length) {
                break;
            }
            displayBackers[i].pri = y + 2;
        }
    }
    return html(lS(0, 14), { class: 'grid' }, createBackerLink(icons8Org, lS(0, 15), null, lS(0, 16)), createBackerLink(wordFinder, lS(0, 17), null, lS(0, 18)), createBackerLink(instinctools, lS(0, 19), null, lS(0, 20)), createBackerLink(adblockPro, lS(0, 21), null, lS(0, 22)), ...displayBackers.map((u, i) => createBackerLink(u, lS(0, 23), getColor(i))));
}
function createBackerLink(backer, size, color, cls) {
    const picture = html(lS(0, 24), { class: 'backer-pic' });
    (() => {
        const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        picture.style.backgroundImage = `url("${ backer.pic }")`;
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        picture.classList.add(lS(0, 25));
                                    }
                                }
                            });
                            const __exports = __callInstance7.exports;
                            return __exports.data();
                        })();
                        picture.dataset.initials = (backer.name || lS(0, 26)).split(lS(0, 27)).slice(0, 2).map(s => s.charAt(0).toUpperCase()).join(lS(0, 28));
                    }
                }
            }
        });
        const __exports = __ifInstance0.exports;
        return __exports.data(backer.pic ? 1 : 0);
    })();
    const link = html(lS(0, 29), {
        class: classes(lS(0, 30), `backer--${ size }`, cls),
        href: backer.url,
        title: backer.info || backer.name,
        target: '_blank',
        rel: 'noopener'
    }, picture, html(lS(0, 31), { class: 'backer-name' }, html(lS(0, 32), null, html(lS(0, 33), null, backer.name.split(lS(0, 34))[0]), backer.name.split(lS(0, 35)).length > 1 ? `:${ backer.name.split(lS(0, 36))[1] }` : null)));
    link.dataset.pri = String(backer.pri);
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        link.style.backgroundColor = color;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(color ? 1 : 0);
    })();
    let alias = lS(0, 37);
    (() => {
        const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        const match = backer.name.match(/^[a-z0-9]+( [a-z0-9]+)?( [a-z0-9]+)?/i);
                        (() => {
                            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            alias = match[0].replace(/ /g, lS(0, 38)).toLowerCase();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance3.exports;
                            return __exports.data(match && match[0] ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance2.exports;
        return __exports.data(backer.name ? 1 : 0);
    })();
    (() => {
        const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    clicker(link, `${ alias }-side`);
                }
            }
        });
        const __exports = __callInstance6.exports;
        return __exports.data();
    })();
    return link;
}
const cssText = `
.grid {
    display: grid;
    gap: 0.2rem;
    grid-template-columns: repeat(auto-fit, minmax(2.5rem, 1fr));
    grid-auto-rows: 2.5rem;
    grid-auto-fill: dense;
}
.backer {
    background-color: var(--color-control);
    border-radius: 1.25rem;
    box-shadow: 0 0 0 0.0625rem hsla(0, 0%, 100%, 0), 0 0 0 var(--color-text);
    color: white;
    display: inline-flex;
    text-decoration: none;
    transition: box-shadow 250ms;
}
.backer:hover {
    box-shadow: 0 0 0 0.0625rem hsla(0, 0%, 100%, 1), 0 0 0.75rem var(--color-text);
}
.backer-pic {
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    border-radius: 1.25rem;
    display: inline-block;
    flex: none;
    height: 2.5rem;
    width: 2.5rem;
}
.backer-pic:not(.backer-pic--empty) {
    background-color: black;
}
.backer-name {
    align-items: center;
    display: inline-flex;
    flex: auto;
    font-weight: normal;
    justify-content: center;
    overflow: hidden;
    padding: 0 0.25rem 0 0;
}
.backer--small .backer-name,
.backer--medium .backer-name {
    display: none;
}
.backer--medium {
    grid-column: span 2;
    grid-row: span 2;
}
.backer--medium .backer-pic {
    background-size: 120%;
    height: 100%;
    width: 100%;
}
.backer--large {
    grid-column: span 4;
    grid-row: span 2;
}
.backer--large .backer-pic,
.backer--x-large .backer-pic {
    border-radius: 1.25rem;
    background-size: 90%;
    height: 100%;
    width: 100%;
}
.backer--large .backer-name,
.backer--x-large .backer-name {
    display: none;
}
.backer--x-large {
    grid-column: span 6;
    grid-row: span 2;
}
.backer--wide {
    grid-column: span 6;
}
.backer-pic--empty::after {
    align-items: center;
    color: white;
    content: attr(data-initials);
    display: inline-flex;
    font-size: 1.25rem;
    height: 100%;
    justify-content: center;
    width: 100%;
}
.backer--small .backer-pic {
    height: 100%;
    width: 100%;
}
.adblock-pro {
    background-color: #33293f;
}
.icons8 {
    background-color: #29795a;
}
.icons8 .backer-pic {
    background-color: #1eb141;
}
.instinctools {
    background-color: #232b42;
}
.qulix {
    background-color: #1e547e;
}
.word-finder {
    background-color: #2e5374;
}
@media screen and (min-width: 57rem) and (max-height: 44rem) {
    .grid {
        grid-auto-rows: 2rem;
    }
    .backer-pic {
        height: 2rem;
        width: 2rem;
    }
    .backer-name {
        line-height: 1rem;
    }
}
@media screen and (min-width: 57rem) and (max-height: 45rem) {
    .backer[data-pri="2"] {
        display: none;
    }
}
@media screen and (min-width: 57rem) and (max-height: 48rem) {
    .backer[data-pri="3"] {
        display: none;
    }
}
@media screen and (min-width: 57rem) and (max-height: 52rem) {
    .backer[data-pri="4"] {
        display: none;
    }
}
@media screen and (min-width: 57rem) and (max-height: 55rem) {
    .backer[data-pri="5"] {
        display: none;
    }
}
@media screen and (min-width: 57rem) and (max-height: 58rem) {
    .backer[data-pri="6"] {
        display: none;
    }
}
`;
const roots = new WeakMap();
class BackersGraphElement extends HTMLElement {
    constructor() {
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        super();
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
        const shadowRoot = this.attachShadow({ mode: 'open' });
        const style = html(lS(0, 39), null, cssText);
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        shadowRoot.append(style);
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        roots.set(this, shadowRoot);
                    }
                }
            });
            const __exports = __callInstance3.exports;
            return __exports.data();
        })();
    }
    connectedCallback() {
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        getBackers().then(backers => {
                            const graph = createBackersGraph(backers);
                            (() => {
                                const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            roots.get(this).append(graph);
                                        }
                                    }
                                });
                                const __exports = __callInstance1.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
    }
}
(() => {
    const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                customElements.define(lS(0, 40), BackersGraphElement);
            }
        }
    });
    const __exports = __callInstance0.exports;
    return __exports.data();
})();</script>
</body>
</html>
